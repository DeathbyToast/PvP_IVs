name: GitHub Actions Diff
run-name: Regularly Scheduled GitHub Actions 🚀 Diff Workflow
on:
  push:
  schedule:
    - cron: '39 9 * * *'
    - cron: '39 9 * * *'
jobs:
  Diff-ads-txt:
    runs-on: ubuntu-latest
    steps:
      - run: echo "🎉 The job was automatically triggered by scheduled cron event."
      - run: echo "🐧 This job is now running on a ${{ runner.os }} server hosted by GitHub!"
      - run: echo "🔎 Attempting to diff url contents"
      - name: Diff
        run: |
          if [diff <(curl https://config.playwire.com/dyn_ads/1025030/74482/ads.txt) <(curl https://pvpivs.com/ads.txt)]; then
            echo "Diff succeeded, no further action needed."
          else
            echo "Diff failed, need to overwrite repo ads.txt file"
          fi
        shell: bash
      - run: echo "💡 The diff command has completed."
      - run: echo "🍏 This job's status is ${{ job.status }}."
