name: GitHub Actions Diff
run-name: Regularly Scheduled GitHub Actions ğŸš€ Diff Workflow
on:
  push:
  schedule:
    - cron: '39 9 * * *'
    - cron: '39 9 * * *'
jobs:
  Diff-ads-txt:
    runs-on: ubuntu-latest
    steps:
      - run: echo "ğŸ‰ The job was automatically triggered by scheduled cron event."
      - run: echo "ğŸ§ This job is now running on a ${{ runner.os }} server hosted by GitHub!"
      - run: echo "ğŸ” Attempting to diff url contents"
      - name: Diff
        continue-on-error: true
        id: diff-adstxt-files
        run: diff <(curl https://config.playwire.com/dyn_ads/1025030/74482/ads.txt) <(curl https://pvpivs.com/ads.txt) >> $GITHUB_OUTPUT
      - run: echo "ğŸ’¡ The diff command has completed, diff status is ${{ steps.diff-adstxt-files.conclusion }} and outcome is ${{ steps.diff-adstxt-files.outcome }}."

      - name: Diff-failed
        if: steps.diff-adstxt-files.outcome == 'failure'
        run: echo "The diff failed with ${{ steps.diff-adstxt-files.outputs }}"
          
      
      - name: Diff-succeess
        if: steps.diff-adstxt-files.outcome == 'success'
        run: echo "The diff succeeded with ${{ steps.diff-adstxt-files.outputs }}"

      - run: echo "ğŸ This job's status is ${{ job.status }}."
